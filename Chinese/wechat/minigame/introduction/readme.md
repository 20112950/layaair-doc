# 微信小游戏简介

##### 首先，我们要了解什么是微信小游戏？

腾讯官方的解释是：

> 微信小游戏是微信小程序的一个类目，它即点即玩，无需下载安装，体验轻便，可以和微信内的好友一起玩，比如PK、围观等。

即点即玩，无需下载安装。这应该就是H5游戏了吧？

怎么解释呢？这要先从H5的定义说起……

通常大家都认为H5就是HTML5的简称，但是在开发者的眼里，HTML5只是一个WEB技术标准，符合这个标准的，并且能在浏览器里运行的游戏才是HTML5游戏。而更多的人，对技术了解不多。为了便于理解，把即点即玩，无需下载安装的游戏都称之为H5游戏，还有人叫手机页游。

微信小游戏的运行环境并不是浏览器，也不能在浏览器中运行，而是运行于微信APP中的Runtime。尽管微信小游戏的接口兼容大部分Canvas和Webgl，具有即点即玩，无需下载安装的HTML5特性。显然，从严格的定义来讲，微信小游戏不是标准的HTML5游戏。

**那么，**如何能做到开发的游戏还能在浏览器中也运行起来呢？

##### 开发者只能使用微信小游戏的开放API开发吗？

带着这两个问题，我们继续介绍。

众所周知，LayaAir引擎是基于HTML5的全平台引擎，既然是全平台，那当然不能错过微信小游戏啦！

所以，在微信小游戏发布的当天，LayaAir引擎也为开发者推出微信小游戏的适配库。自LayaAir 1.7.14版开始，开发者下载最新版本引擎或IDE，只需要按照适配教程文档，初始化一下适配程序，即可将HTML5游戏项目无缝适配为微信小游戏项目。

这样，通过LayaAir引擎开发出来的项目，不仅可以运行在浏览器中、或者打包成为APP（iOS与Android）、还可以运行在微信小游戏的平台中。

或许，开发者还想了解，既然微信小游戏不是HTML5，

##### 那在开发的过程中需要注意哪些差异呢？

如果是采用微信官方API开发的话，还是要有一些要注意的，比如不支持DOM与BOM、小游戏只能有一个画布、不支持Eval、不支持XML等等……

但是，

对于LayaAir引擎的开发者来讲，不用刻意去了解到底有哪些差异，按照正常的LayaAir引擎开发规则去开发就可以了。

即便是已经采用LayaAir引擎开发完成的老项目，替换最新版本引擎类库后，在主程序入口的Laya.init()之前，调用MiniAdpter.init()这个方法，去初始化一下适配程序，把预加载的本地包内容放入到layaNativeDir目录，即可完美支持微信小游戏。

**AS3版本初始化**

```java
//AS3版本初始化微信小游戏的适配
MiniAdpter.init();
//初始化引擎
Laya.init(1136,640);
```

**TypeScript或JavaScript版本初始化：**

```javascript
//TS或JS版本初始化微信小游戏的适配
Laya.MiniAdpter.init();
//初始化引擎
Laya.init(1136,640);
```



另外，在TS或JS语言的项目内，如果老项目的index.html里没有引用过适配库laya.wxmini.js，需要手动引用一下。

效果如图1所示：

  ![图1](img/1.png) 



> Tips：关于layaNativeDir目录，以及小游戏的具体适配内容，可以查看相关的其它文档

